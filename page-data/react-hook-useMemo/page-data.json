{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/react-hook-useMemo/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>useMemo는 리액트에서 useCallback과 함께 컴포넌트 성능 최적화를 위해 사용되는 대표적인 hook입니다.</p>\n<p>useMemo에서 Memo는 Memoization(메모이제이션)을 뜻합니다.</p>\n<h2>메모이제이션이란..?</h2>\n<p>간단하게는 이전에 계산한 값을 캐싱해놨다가 필요할 때 꺼내서 사용하는 기법입니다.</p>\n<p>자세한 내용은 <a href=\"https://ko.wikipedia.org/wiki/%EB%A9%94%EB%AA%A8%EC%9D%B4%EC%A0%9C%EC%9D%B4%EC%85%98\" target=\"_blank\" rel=\"nofollow\">메모이제이션</a>을 참고하세요.</p>\n<br>\n<p>예를 들어 다음과 같은 코드가 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token function\">calcaulate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>함수형 컴포넌트의 렌더링 과정은 다음과 같습니다.</p>\n<blockquote>\n<p>App 함수 호출 -> 모든 내부 변수 초기화</p>\n</blockquote>\n<p>여기서 컴포넌트가 렌더링될 때 마다 함수가 계속 호출되고 변수에 담기게 됩니다. 만약 이 함수가 무거운 작업을 하는 함수일 경우에는 이 과정이 매우 비효율적일 수 있습니다.</p>\n<p>useMemo를 사용하면 이러한 것을 해결할 수 있습니다.</p>\n<br>\n<p>useMemo를 사용하게 되면 렌더링은 다음과 같은 순서로 작동합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">calculate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>App 함수 호출, 메모이제이션 -> 이후 컴포넌트 리렌더링 -> App 함수 호출, 메모이제이션 된 값을 재사용</p>\n</blockquote>\n<p>계산된 결과 값(value)을 메모리에서 가져와 재사용합니다.</p>\n<br>\n<p>useMemo는 두 개의 인자를 받습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">calculate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>첫 번째 인자로는 Callback 함수를 받고, 두 번째 인자로 배열을 받습니다.</p>\n<p>첫 번째 인자인 Callback 함수는 메모이제이션할 값을 반환해주는 함수입니다.</p>\n<p>두 번째 인자인 배열은 의존성 배열(dependency array)이라고도 부릅니다. 배열 안의 요소가 업데이트될 때만 콜백함수를 다시 호출해서 메모이제이션 값을 업데이트합니다.</p>\n<p>만약 빈 배열이 들어간다면, 컴포넌트가 맨 처음 mount 될 때에만 값을 계산하고 이후에는 메모이제이션된 값을 가져와서 사용합니다.</p>\n<p>하지만 useMemo 남용하면 성능이 악하를 불러올 수 있습니다.</p>\n<p>useMemo를 사용한다는 것은 값을 재활용하기 위해 메모리에 따로 저장해놓는 것을 말합니다.</p>\n<p>불필요한 값까지 메모이제이션하면 오히려 성능이 악화될 수 있기 때문에 정말 필요할 때만 적절하게 사용해야 합니다.</p>","frontmatter":{"title":"[React] useMemo","summary":"리액트에서 useCallback과 함께 컴포넌트 성능 최적화를 위해 사용되는 대표적인 hook인 useMemo에 대해 알아보자","date":"2022년 03월 07일","categories":["React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQGAwn/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAB4yS0Pm2K8Ig6/wD/xAAbEAABBAMAAAAAAAAAAAAAAAAFAQIDBBARFf/aAAgBAQABBQIQBG3Q3JpubZiZDMirrH//xAAfEQEBAAICAgMBAAAAAAAAAAABAgMEBREAIRMUIkH/2gAIAQMBAT8Bx8dyEbG5lea2ax59hy4MH19VjWxsE/BLeO6qR/RXcP8AKK8gZiZqm6mZKtAbQ6aSQkafaSAd+gPP/8QAHxEBAAEEAgMBAAAAAAAAAAAAAQIDERIhAAQTMVFh/9oACAECAQE/AZdjrtOjE6VIlCGM6nkq5VZXvm2kApq2/wAtxRVDEVSO2x8u7163vn//xAAjEAACAQIFBQEAAAAAAAAAAAABAgMEEQASEyEiBRAxMlFS/9oACAEBAAY/AquuqK3SqIdbKgICrlTjnU8m/XHzey6humImj630/nErOsutG0cmmrNGeDeGOQN9BvYb4aOOZKhQEIlT1OaNWYeW9GJQ7ndTbbFrm3y/f//EABoQAQEBAQADAAAAAAAAAAAAAAERIQAQMVH/2gAIAQEAAT8hhlS1QhBBBwAKADd7X7Q4tTkswOCkPGKWnul5LlRw0DVoQNI5Zpj9Mc8//9oADAMBAAIAAwAAABA7H//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxBo9hCwDlhqKA3DLSt0G1CwSCAP/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREAMUH/2gAIAQIBAT8Qn1HgCUTUWp9XGIyACDKhVQIFKCqtd//EABwQAQACAQUAAAAAAAAAAAAAAAEAEVEQITFBkf/aAAgBAQABPxC9kNKqwtkBO+WoloByKL2q6rkvZJh5ILto5IOH0k67yF35lNkty+un/9k="},"images":{"fallback":{"src":"/static/3301bcc60d32b98f290dff3ef34e7859/bc134/R1280x0.jpg","srcSet":"/static/3301bcc60d32b98f290dff3ef34e7859/2278c/R1280x0.jpg 320w,\n/static/3301bcc60d32b98f290dff3ef34e7859/0f1c0/R1280x0.jpg 640w,\n/static/3301bcc60d32b98f290dff3ef34e7859/bc134/R1280x0.jpg 1280w","sizes":"(min-width: 1280px) 1280px, 100vw"},"sources":[{"srcSet":"/static/3301bcc60d32b98f290dff3ef34e7859/378b7/R1280x0.webp 320w,\n/static/3301bcc60d32b98f290dff3ef34e7859/3c3fb/R1280x0.webp 640w,\n/static/3301bcc60d32b98f290dff3ef34e7859/c2dd8/R1280x0.webp 1280w","type":"image/webp","sizes":"(min-width: 1280px) 1280px, 100vw"}]},"width":1280,"height":720}},"publicURL":"/static/3301bcc60d32b98f290dff3ef34e7859/R1280x0.jpeg"}}}}]}},"pageContext":{"slug":"/react-hook-useMemo/"}},
    "staticQueryHashes": ["2184703122"]}