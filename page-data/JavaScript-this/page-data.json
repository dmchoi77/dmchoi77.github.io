{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/JavaScript-this/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>자바스크립트에서 this가 무엇일까?</h1>\n<p>자바스크립트에서 this란?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"this가 뭐야?\"\n\"어.. 음.. 어떻게 호출 됐냐에 따라 값이 바뀌는..\"</code></pre></div>\n<p>평소에 this가 동작하는 방식에만 집중하다 보니 this 그 자체가 뭐냐는 질문에 어떻게 답을 해야할지 우물쭈물 했던 기억이 난다.</p>\n<h3>그래서 this가 뭐냐고?</h3>\n<p>이번 포스팅의 목표는 자바스크립트에서 this가 어떻게 변하는지 관찰해보고, this가 한마디로 무엇인지 나름대로 정리를 해보는 것이다. <strong>this는 호출 방법</strong>에 따라 값이 동적으로 달라진다는 것을 항상 생각하면서 this가 어떻게 바뀌는지 알아보자.</p>\n<br>\n<p>먼저 기본적으로 this가 무엇인지 알아보자 </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/22aecf448dd398d0b5656aeb801f9644/c5eec/this.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYElEQVQoz5WR227bMBBE9f8fVqAu2iBvTuyYkkj5JkeUEUm8SicgbfehffIAgyW4g+Vwtmi7T/RFY4zBeXerzjNNBmstdrK40eGsw3uPczeNzfpAiAvLsjDPc2ZRv1aojUKsBeW6RMqGnRDsDwfObUt/0uhjh/7UaN1nnk5nuq5jGCcm4wghMC8LCUXz0lDuJNe+J7hADBHnPTFGQojEOeJjuLt73Ie/NTlOveQuD1SvDdVbzUW1mMkyjiPDMGQ+RNxf/+/8D9LXi+qHoF5VyLVi91Gy2W5RTYPWGmtdFj2DQq4q6p8lR3nmfbOhrmV2GbzPLidjCL0mjCPGOmJyPgx45xinCWMs1nqMNXx9DRT7Pwr5caa9XPDeEWLM+Ty2FuPMkjJKuc0zSwiZt168c85Zp0wL9VKz+y1Q24b9/kRZVkip6K/XLHgWhfxVUa0E6k0hRIMoaw6HY95eyu9ZfgNEsLeOD/cD8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/22aecf448dd398d0b5656aeb801f9644/a59e9/this.webp 192w,\n/static/22aecf448dd398d0b5656aeb801f9644/0ca9f/this.webp 384w,\n/static/22aecf448dd398d0b5656aeb801f9644/dc9b9/this.webp 768w,\n/static/22aecf448dd398d0b5656aeb801f9644/e2c2f/this.webp 1152w,\n/static/22aecf448dd398d0b5656aeb801f9644/f3efb/this.webp 1536w,\n/static/22aecf448dd398d0b5656aeb801f9644/92b91/this.webp 2038w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/22aecf448dd398d0b5656aeb801f9644/3b721/this.png 192w,\n/static/22aecf448dd398d0b5656aeb801f9644/66595/this.png 384w,\n/static/22aecf448dd398d0b5656aeb801f9644/fe486/this.png 768w,\n/static/22aecf448dd398d0b5656aeb801f9644/d2d74/this.png 1152w,\n/static/22aecf448dd398d0b5656aeb801f9644/e8464/this.png 1536w,\n/static/22aecf448dd398d0b5656aeb801f9644/c5eec/this.png 2038w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/22aecf448dd398d0b5656aeb801f9644/fe486/this.png\"\n            alt=\"this\"\n            title=\"this\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>기본적으로 this는 window다.</p>\n<br>\n<p>함수 안에서 this는 무엇일까?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// window</span></code></pre></div>\n<p>이번에도 this는 window다. this가 들어 있는 <strong>함수 a를 실행한 주체가 window</strong>이기 때문이다.</p>\n<br>\n<p>객체에서도 this를 확인해보자. 객체 안에 다음과 같이 프로퍼티와 메서드를 정의했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"dmchoi\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>객체의 메서드를 호출해보니 dmchoi가 출력 되었다. <strong>메서드를 호출한 주체가 obj</strong>이기 때문에 this가 obj로 바뀌었기 때문이다.</p>\n<br>\n<p>이번에는 객체의 메서드를 다른 변수에 할당한 후에 실행 해보자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"dmchoi\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">.</span>who<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span></code></pre></div>\n<p>dmchoi가 아니라 undefined가 나온다. </p>\n<p>a를 실행한 주체는 global이기 때문에 this의 값은 window 다.</p>\n<p>window에서 name을 따로 정의해주지 않았기 때문에 undefined가 나오게 되는 것이다.</p>\n<br>\n<p>생성자 함수를 new를 이용해 호출하는 경우를 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n <span class=\"token punctuation\">}</span>\n \n <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dmchoi\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// {name: 'dmchoi'}</span></code></pre></div>\n<p>이 때의 this는 생성자 함수가 생성할 인스턴스를 가르킨다.</p>\n<br>\n<p>조금 복잡한 상황에서는 this가 어떻게 변하는지 알아보자</p>\n<br>\n<p>객체 안에 메서드로 화살표 함수가 들어가 있는 경우이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"choi\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">who</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>화살표 함수에서는 부모에게서 this를 찾기 때문에 this는 window가 된다. </p>\n<p>따라서 window.name의 값이 출력된다.</p>\n<br>\n<p>객체 안에 메서드가 있고 또 그 안에 이너 함수가 들어가 있는 경우이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"choi\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>결과는 choi과 window.name 값이다.</p>\n<p>첫 번째 콘솔은 obj가 메서드의 실행 주체기 때문에 this가 obj로 바뀐다.</p>\n<p>두 번째 콘솔은 함수를 호출할 때 별도의 처리를 해주지 않았기 때문에 this는 window이다.</p>\n<br>\n<p>마지막으로 다음 케이스를 보자. 이번에는 이너 함수로 화살표 함수가 들어간 경우이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"choi\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inner</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">who</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>this는 호출하는 방법에 따라 정해진다고 했다. obj.who()를 호출할 때 this는 obj이다. </p>\n<p>그러므로 첫 번째 콘솔에는 obj.name인 “choi”가 찍힌다.</p>\n<p>두 번째 콘솔은 화살표 함수이기 때문에 this를 부모한테서 찾아야 하는데 inner의 부모는 who 다.</p>\n<p>who의 this를 알기 위해선 who가 어떻게 호출됐는지를 보면 되고, 그 this가 곧 우리가 찾는 this다.</p>\n<p>who의 this는 방금 위에서 찾은 obj이다. 따라서 두 번째 콘솔에는 “choi”가 찍힌다.</p>\n<br>\n<p>지금까지 함수, 객체, 생성자 그리고 더 나아가 복잡한 케이스에서 this가 어떻게 변하는 알아 보았다.</p>\n<p>그래서 this를 한 마디로 정리하자면 이렇게 말할 수 있을 것 같다.</p>\n<blockquote>\n<p><strong>함수를 현재 누가 실행했냐를 가리키는 변수</strong></p>\n</blockquote>","frontmatter":{"title":"자바스크립트에서 this란 무엇일까?","summary":"자바스크립트에서 this는 호출 방법에 따라 값이 동적으로 변한다","date":"2022년 04월 22일","categories":["JavaScript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+ElEQVQ4y2P4fl+ObMQwqnmQaP7xAIQg7K93QexfD+W+3QMhwpq/3AXpgbD/vZT/clfu3XXZ30/l/z6Th+jHovnbPblfj+TeX5e1s+AI9OT6dFv231P5KW1CGiqsYiLMQZ5cF/dI/nkM0o9d8+9Hcq+vyLKxMcpIMP97Kr9xgRgDA4OUBLOVKTsDA0NKFM//5/Jf7+LW/OaqLCcno5w0y/83CrWF/AwMDLP7hP9/V9w4X/TxGelfD3E7G6qZg1FOiuX/C/l5fcIMDAza6mzLp4l8fyL//43Ct7t4/QzRrCjL8vk2KNjCfLkYwEBFkWXzIlHszv56DxQfvx7Kv7osy8HBqCjH8vGm7N9n8j9fyK+dLepqz8HAwMDLw3hmh+T/Z/Komu/J/Xsh/+S8zL8X8l8fyHFwMCrIsny9K/fqigxI9Xel/z+VitP5GBgYeuoF/39QQGj+elfu/wv5uX3CvDyMfQ2CU9uEGBgY7C05fj6QtzVnZ2dj7G8U2rNS3MUGZPnCicL/32Jo3jBflJuLEeI9ZmaGFdNF/r9TmNYuxMMNEmRiAom7O3B8uCH78wGqn7/dk/v/Sv7WMemp7UJ9DYKnd0j+AycmiOCsbuGuWsH1c0U/35X9/VgOSyL5dk/uzxP5/28V/r9TgCfDr3cRgv9fyf94AE3eAEiGpWHJJpFPAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/3178b/JavaScript.png","srcSet":"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/67d4a/JavaScript.png 300w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/ca275/JavaScript.png 600w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/3178b/JavaScript.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/c437f/JavaScript.webp 300w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/bcf7f/JavaScript.webp 600w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/89480/JavaScript.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":1200}},"publicURL":"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/JavaScript.png"}}}}]}},"pageContext":{"slug":"/JavaScript-this/"}},
    "staticQueryHashes": ["2184703122"]}